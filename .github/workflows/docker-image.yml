# name: CI

# on:
#   push:
#     branches:
#       - main

# jobs:
#   build:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v2

#       - name: Setup Node.js
#         uses: actions/setup-node@v2
#         with:
#           node-version: "14"

#       - name: Install dependencies
#         run: npm install

#       - name: Check formatting with Prettier
#         run: npm run format


#       # 这里看起来是你重复添加了Prettier的步骤，所以我把它注释掉了
#       # 如果你需要运行Prettier，请确保你的`package.json`中有一个对应的脚本
#       # - name: Run Prettier
#       #   run: npm run format
# name: CI

# on:
#   push:
#     branches:
#       - main

# jobs:
#   build:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v2

#       - name: Setup Node.js
#         uses: actions/setup-node@v2
#         with:
#           node-version: "14"

#       - name: Install dependencies
#         run: npm install

#       - name: Check formatting with Prettier
#         run: npm run format

#       - name: Run tests
#         run: npm test
name: CI

on:
  push:
    branches:
      - main

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Build Docker image
        run: docker build -t li_yingqiu_coding_assignment12 .

      - name: Run tests in Docker container
        run: docker run li_yingqiu_coding_assignment12
